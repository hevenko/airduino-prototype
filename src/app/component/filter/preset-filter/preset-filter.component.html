<form [formGroup]="presetForm">
  <div appDropdown [ngClass]="dialogIsOpen ? stayOpened :''" class="dropdown pull-right filter dropright">
    <a class="dropdown-toogle" data-toggle="collapse" href="#presetCoponentDropdown" onclick="return false" role="button" aria-expanded="false"
      aria-controls="presetCoponentDropdown">
      <span [innerHTML]="getLabel()"></span><span class="caret"></span>
    </a>
    <div class="dropdown-menu filter-menu-expanded" style="padding: 15px" id="presetCoponentDropdown">
      <mat-form-field>
        <input matInput placeholder="Search preset filters">
        <mat-icon matSuffix (click)="searchPresetFilters()">search</mat-icon>
      </mat-form-field>
      <table style="width: 100%;white-space: nowrap;margin-bottom: 10px;">
        <ng-container *ngFor="let f of filters;let i = index">
          <tr>
            <td>
              <a (click)="applyFilter(f)">{{f.desc}}</a>
            </td>
            <td style="padding-left: 10px;">
              <button type="button" mat-stroked-button class="pull-right" (click)="openAlertSettingsDialog()">
                <mat-icon style="color: warn;">{{filterEnabledIcon}}</mat-icon>
              </button>
            </td>
          </tr>
        </ng-container>
      </table>
      <mat-divider></mat-divider>
      <a style="display: block;">
        <span class="glyphicon glyphicon-check" style="margin-right: 5px;"></span>
        <span (click)="saveAsCurrentFilter()"> Save current values in selected filter</span>
      </a>
      <a style="display: block;">
        <span style="margin-right: 9px;" class="glyphicon glyphicon-plus" (click)="newFilterNameInput.focus()"></span>
        <mat-form-field style="min-width: 200px; margin-right:15px" floatLabel="auto">
          <mat-label>Save current values as new filter</mat-label>
          <input #newFilterNameInput  formControlName="newFilterName" matInput placeholder="New filter name" autocomplete="off">
        </mat-form-field>
        {{newFilterName}}
        <button mat-stroked-button *ngIf="!!presetForm.value.newFilterName" (click)="saveNewFilterClick($event)">
          <mat-icon style="color: warn;">save</mat-icon>
        </button>
      </a>
    </div>
  </div>
</form>
